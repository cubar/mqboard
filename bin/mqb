#!/usr/bin/python

from os import system, environ as env
import sys

server = '192.168.178.3'
server = '10.42.0.1'
board  = '9dc06c'  # p1
board  = '5aff6c'  # esp
board  = '5aff6c'  # Arnoud

if not env.get('MQBOARD_SERVER'):
  env['MQBOARD_SERVER'] = server
if not env.get('MQBOARD_PREFIX'):
  env['MQBOARD_PREFIX'] = board

# Hier gaan we ervan uit dat argv geen single quotes bevat
args = ' '.join([f"'{arg}'" for arg in sys.argv[1:]])
cmd = "/home/chuck/py/aga/mqboard/mqboard.py "+args

serv = f'==== export MQBOARD_SERVER={env["MQBOARD_SERVER"]}'
pref = f'==== export MQBOARD_PREFIX={env["MQBOARD_PREFIX"]}'
print(f'{serv}\n{pref}\n{cmd=}', file=sys.stderr)

system(cmd)  # gebruik van subprocess is robuster!
